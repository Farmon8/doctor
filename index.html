<!DOCTYPE html>
<html lang="tg">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–õ—É“ì–∞—Ç—Å—É–ø–æ—Ä”£ - –Æ–Ω–∏—Ç“≥–æ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f5f5;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 600px;
            padding: 30px;
            text-align: center;
        }
        
        .header {
            margin-bottom: 30px;
        }
        
        .header h1 {
            color: #333;
            font-size: 24px;
            margin-bottom: 10px;
        }
        
        .unit-selection {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .unit-btn {
            background-color: #4CAF50;
            color: white;
            border: none;
            padding: 15px;
            font-size: 16px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .unit-btn:hover {
            background-color: #45a049;
        }
        
        .progress {
            font-size: 16px;
            color: #555;
            margin-bottom: 20px;
        }
        
        .word-container {
            background-color: #f9f9f9;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 25px;
            border: 1px solid #eee;
        }
        
        .word {
            font-size: 22px;
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
        }
        
        .translation {
            font-size: 18px;
            color: #555;
            margin-bottom: 5px;
        }
        
        .timer-container {
            width: 120px;
            height: 120px;
            margin: 0 auto 25px;
            position: relative;
        }
        
        .timer-circle {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            border: 8px solid #f0f0f0;
            position: relative;
            overflow: hidden;
        }
        
        .timer-progress {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            clip: rect(0, 60px, 120px, 0);
            background-color: #4CAF50;
            transform: rotate(0deg);
        }
        
        .timer-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 24px;
            font-weight: bold;
            color: #333;
        }
        
        .answer-input {
            width: 100%;
            padding: 15px;
            font-size: 16px;
            border: 1px solid #ddd;
            border-radius: 5px;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .submit-btn {
            background-color: #4CAF50;
            color: white;
            border: none;
            padding: 12px 25px;
            font-size: 16px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .submit-btn:hover {
            background-color: #45a049;
        }
        
        .results {
            display: none;
            margin-top: 30px;
            text-align: left;
        }
        
        .results h2 {
            color: #333;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .stats {
            margin-bottom: 20px;
        }
        
        .stat-item {
            margin-bottom: 10px;
            font-size: 16px;
        }
        
        .stat-value {
            font-weight: bold;
        }
        
        .errors {
            margin-top: 20px;
        }
        
        .error-item {
            background-color: #f8f8f8;
            padding: 10px;
            border-radius: 5px;
            margin-bottom: 10px;
            border-left: 3px solid #e74c3c;
        }
        
        .error-word {
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .correct-answer {
            color: #27ae60;
        }
        
        .user-answer {
            color: #e74c3c;
            font-style: italic;
        }
        
        .success-message {
            font-size: 18px;
            font-weight: bold;
            color: #27ae60;
            margin-top: 20px;
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="container" id="main-container">
        <div class="header">
            <h1>–õ—É“ì–∞—Ç—Å—É–ø–æ—Ä”£</h1>
            <p>–Æ–Ω–µ—Ç–∏ –ª–µ–∫—Å–∏–∫–∏—Ä–æ –∏–Ω—Ç–∏—Ö–æ–± –∫—É–Ω–µ–¥</p>
        </div>
        
        <div class="unit-selection" id="unit-selection">
            <button class="unit-btn" id="unit5-btn">–Æ–Ω–∏—Ç 5 –û—Ö–∏—Ä (50 –∫–∞–ª–∏–º–∞)</button>
            <button class="unit-btn" id="unit6-btn">–Æ–Ω–∏—Ç 6 (50 –∫–∞–ª–∏–º–∞)</button>
        </div>
        
        <div id="game-screen" style="display: none;">
            <div class="header">
                <h1 id="unit-title">–Æ–Ω–∏—Ç 5 –û—Ö–∏—Ä</h1>
                <div class="progress" id="progress">1/50</div>
            </div>
            
            <div class="word-container">
                <div class="word" id="word">–∫–∞–Ω–æ—Ä, –∫—Ä–∞–π</div>
                <div class="translation" id="translation">–∫—Ä–∞–π</div>
            </div>
            
            <div class="timer-container">
                <div class="timer-circle">
                    <div class="timer-progress" id="timer-progress"></div>
                    <div class="timer-text" id="timer-text">7:00</div>
                </div>
            </div>
            
            <input type="text" class="answer-input" id="answer" placeholder="“∂–∞–≤–æ–±—Ä–æ –±–∞ –∞–Ω–≥–ª–∏—Å”£ –Ω–∞–≤–∏—Å–µ–¥..." autocomplete="off">
            <button class="submit-btn" id="submit-btn">–§–∏—Ä–∏—Å—Ç–æ–¥–∞–Ω</button>
        </div>
        
        <div class="results" id="results">
            <h2>–ù–∞—Ç–∏“∑–∞“≥–æ</h2>
            
            <div class="stats">
                <div class="stat-item">–®—É–º–æ <span class="stat-value" id="score">0</span> –∞–∑ <span class="stat-value">50</span>-—Ä–æ –¥—É—Ä—É—Å—Ç “∑–∞–≤–æ–± –¥–æ–¥–µ–¥</div>
                <div class="stat-item">–§–æ–∏–∑–∏ –¥—É—Ä—É—Å—Ç”£: <span class="stat-value" id="percentage">0%</span></div>
                <div class="stat-item">–ú–∏“õ–¥–æ—Ä–∏ —Ö–∞—Ç–æ“≥–æ: <span class="stat-value" id="mistakes">0</span></div>
            </div>
            
            <div id="success-message" class="success-message"></div>
            
            <div class="errors" id="errors">
                <h3>–•–∞—Ç–æ“≥–æ:</h3>
                <!-- Errors will be displayed here -->
            </div>
        </div>
    </div>

    <script>
        // Vocabulary for Unit 5 End
        const unit5Vocabulary = [
            { tajik: "–∫–∞–Ω–æ—Ä, –∫—Ä–∞–π", russian: "–∫—Ä–∞–π", english: "edge" },
            { tajik: "–∏–º–ø–µ—Ä–∞—Ç–æ—Ä", russian: "–∏–º–ø–µ—Ä–∞—Ç–æ—Ä", english: "emperor" },
            { tajik: "—Å–∞–Ω—å–∞—Ç–∏ –º—É—Ö–∞–Ω–¥–∏—Å–π", russian: "–∏–Ω–∂–µ–Ω–µ—Ä–Ω–æ–µ –∏—Å–∫—É—Å—Å—Ç–≤–æ", english: "engineering" },
            { tajik: "“≥–æ–ª–∞—Ç–∏ —Ñ–∞–≤“õ—É–ª–æ–¥–∞–∏ —ç–∫–æ–ª–æ–≥”£", russian: "—ç–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è —á—Ä–µ–∑–≤—ã—á–∞–π–Ω–∞—è —Å–∏—Ç—É–∞—Ü–∏—è", english: "environmental emergency" },
            { tajik: "—Ç–∞–¥–∫–∏–∫–æ–¥—á–∏", russian: "–∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å", english: "explorer" },
            { tajik: "—Ö–∞–≤–æ–ø–∞–π–º–æ–∏", russian: "—Å–∞–º–æ–ª—ë—Ç-–∏—Å—Ç—Ä–µ–±–∏—Ç–µ–ª—å", english: "fighter plane" },
            { tajik: "–ø—É—Ä–∫—É–Ω–∞–Ω–¥–∞, –¥–∞—Ö–∞–Ω–∞", russian: "–Ω–∞–ø–æ–ª–Ω–∏—Ç–µ–ª—å, –≤–æ—Ä–æ–Ω–∫–∞", english: "filler" },
            { tajik: "–¥–æ–≥, –¥–æ–≥–∏ –∫—É–Ω—á–∏—Ç–∞–∫", russian: "–ø—è—Ç–Ω–æ, –≤–µ—Å–Ω—É—à–∫–∞", english: "fleck" },
            { tajik: "–∫–∏—Å–º, –∫–∞—Å—Ä", russian: "—á–∞—Å—Ç—å, –¥—Ä–æ–±—å", english: "fraction" },
            { tajik: "–ø–æ—Ä–∞, –ø–æ—Ä—á–∞", russian: "–∫—É—Å–æ–∫", english: "fragment" },
            { tajik: "–±–∞ –∫–æ—Ä —à—É—Ä—É—å –∫–∞—Ä–¥–∞–Ω", russian: "–ø—Ä–∏—Å—Ç—É–ø–∏—Ç—å –∫ –¥–µ–ª—É", english: "get down to business" },
            { tajik: "—Ñ—É—Ä—É –±—É—Ä–¥–∞–Ω", russian: "–ø–æ–≥–ª–æ—Ç–∞—Ç—å", english: "gobble up" },
            { tajik: "—Å–∏—Å—Ç–µ–º–∞–∏ –≥–ª–æ–±–∞–ª–∏ –≤–∞ —Ö–æ–ª–∞—Ç—Ö–æ–∏ –º—É–∞—è–Ω—à—É–¥–∞", russian: "–≥–ª–æ–±–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–æ–ª–æ–∂–µ–Ω–∏—è", english: "GPS (Global Positioning System)" },
            { tajik: "—Å–∞—Ä–¥–∞—Ä–¥", russian: "–≥–æ–ª–æ–≤–Ω–∞—è –±–æ–ª—å", english: "headache" },
            { tajik: "–º–∞—Ä–∫–∞–∑–∏ —á–∏–∑–µ", russian: "—Ü–µ–Ω—Ç—Ä —á–µ–≥–æ-–ª", english: "heart of sth" },
            { tajik: "—Ç–æ—Å–∫—É–ª–æ—Ö", russian: "–∫–∞—Å–∫–∞", english: "helmet" },
            { tajik: "—Ö–æ–±–≥–æ—Ö–∏ –¥–æ–Ω–∏—à—á—É–µ–Ω", russian: "—Å—Ç—É–¥–µ–Ω—á–µ—Å–∫–æ–µ –æ–±—â–µ–∂–∏—Ç–∏–µ", english: "hostel" },
            { tajik: "–ø—É—Ñ–∞–∫–∏ —Ö–∞–≤–æ–π", russian: "–º–æ–Ω–≥–æ–ª—å—Ñ—å–µ—Ä", english: "hot air balloon" },
            { tajik: "—á–∞–≤–æ—Ö–∏—Ä–æ—Ç, –∑–∞—Ä–≥–∞—Ä–∏", russian: "–¥—Ä–∞–≥–æ—Ü–µ–Ω–Ω–æ—Å—Ç–∏, —é–≤–µ–ª–∏—Ä–Ω—ã–µ –∏–∑–¥–µ–ª–∏—è", english: "jewellery" },
            { tajik: "—Ö–∞–ª—Ç–∞–∏ —á—É—Ç–∏", russian: "–¥–∂—É—Ç–æ–≤—ã–π –º–µ—à–æ–∫", english: "jute bag" },
            { tajik: "–∫—É—à–∞–Ω–¥–∞ –º–∞—Ä–≥–æ–≤–∞—Ä", russian: "—Å–º–µ—Ä—Ç–µ–ª—å–Ω—ã–π", english: "lethal" },
            { tajik: "–ø–∞—Ä—Ç–æ–≤", russian: "–º—É—Å–æ—Ä", english: "litter" },
            { tajik: "—Ç–∞–ª–∞—Ñ–æ—Ç", russian: "–ø–æ—Ç–µ—Ä—è", english: "loss" },
            { tajik: "–±–∞ –º—É–≤–∞—Ñ–∞–∫–∏—è—Ç –Ω–æ–∏–ª —à—É–¥–∞–Ω", russian: "–¥–æ–±–∏—Ç—å—Å—è —É—Å–ø–µ—Ö–∞", english: "make the big time" },
            { tajik: "–∞–∑–∏–º", russian: "–º–∞—Å—Å–∏–≤–Ω—ã–π", english: "massive" },
            { tajik: "–ø—É—Ä–ø–µ—á—É—Ö–∞–º–∏", russian: " –ª–∞–±–∏—Ä–∏–Ω—Ç", english: "maze" },
            { tajik: "—Ç–æ—á–∏—Ä", russian: "–∫—É–ø–µ—Ü", english: "merchant" },
            { tajik: "–≥—É–º—Ä–æ—Ö–∫—É–Ω–∞–Ω–¥–∞", russian: "–≤–≤–æ–¥—è—â–∏–π –≤ –∑–∞–±–ª—É–∂–¥–µ–Ω–∏–µ", english: "misleading" },
            { tajik: "–∫–æ–ª–∏–±—Ä–µ–∑–π", russian: "—Ñ–æ—Ä–º–æ–≤–∫–∞", english: "moulding" },
            { tajik: "–∫—Ä—É–∂–∫–∞", russian: "–∫—Ä—É–∂–∫–∞", english: "mug" },
            { tajik: "–æ–Ω —á–∏–∑–µ –∫–∏ –±–æ—è–¥ –¥–∏–¥", russian: "—Ç–æ, —á—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–≤–∏–¥–µ—Ç—å", english: "must-see" },
            { tajik: "–º–æ–¥–¥–∞–∏ –ø–ª–∞—Å—Ç–∏–∫–∏", russian: "–ø–ª–∞—Å—Ç–∏—á–µ—Å–∫–∏–π –º–∞—Ç–µ—Ä–∏–∞–ª", english: "nurdie" },
            { tajik: "–±–µ–∞–¥–∞–±–∏ –±–µ—à–∞—Ä–º–π", russian: "–Ω–µ–ø—Ä–∏—Å—Ç–æ–π–Ω–æ—Å—Ç—å", english: "obscenity" },
            { tajik: "–∞–π –∞–π –±–∞—ë–Ω –∫–∞—Ä–¥–∞–Ω–∏ –¥–∞—Ä–¥–∏ –∞—Ñ—Å—É—Å —Ç–∞—Ä—Å", russian: "–∞–π –æ–π", english: "ouch" },
            { tajik: "–±–µ–Ω–∞–∑–æ—Ä–∞—Ç", russian: "–±–µ—Å–∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ", english: "out of control" },
            { tajik: "–¥—É—Ä–¥–∞—Å—Ç (—à–∞—Ö—Ä)", russian: "–æ–∫—Ä–∞–∏–Ω–∞ (–≥–æ—Ä–æ–¥–∞)", english: "outskirts" },
            { tajik: "–±–µ—Ä—É–Ω –∞–∑ –±–æ—Ä—Ç", russian: "–∑–∞ –±–æ—Ä—Ç–æ–º", english: "overboard" },
            { tajik: "—Ö—É—à–∫–∏–≥–∞—Ä–¥", russian: "—Å—É—Ö–æ–ø—É—Ç–Ω—ã–π", english: "overland" },
            { tajik: "–≤–∞–∫—Ç–∏ –∑–∏—ë–¥–∞ –∞–∑ –≤–∞–∫—Ç–∏ –º—É–∫–∞—Ä–∞—Ä —à—É–¥–∞", russian: "—Å–≤–µ—Ä—Ö—É—Ä–æ—á–Ω–æ–µ –≤—Ä–µ–º—è", english: "overtime" },
            { tajik: "–±–∞—Å—Ç–∞", russian: "—É–ø–∞–∫–æ–≤–∫–∞", english: "packaging" },
            { tajik: "—á–∞–∑–∏—Ä–∞–∏ –±–∏—Ö–∏—à—Ç–∏", russian: "—Ä–∞–π—Å–∫–∏–π –æ—Å—Ç—Ä–æ–≤", english: "paradise island" },
            { tajik: "—á—É–¥–æ –∫–∞—Ä–¥–∞–Ω", russian: "—Ä–∞–∑–¥–µ–ª—è—Ç—å", english: "part" },
            { tajik: "–ø—É—Ñ–∞–∫", russian: "—à–∞—Ä–∏–∫", english: "pellets" },
            { tajik: "—ë—Ä–¥–∞–º—á–∏–∏ —à–∞—Ö—Å–π", russian: "–ª–∏—á–Ω—ã–π —Å–µ–∫—Ä–µ—Ç–∞—Ä—å", english: "personal assistant" },
            { tajik: "—Ö—É—à—Ö–æ–ª, —Ä–æ–∑–∏", russian: "–¥–æ–≤–æ–ª—å–Ω—ã–π", english: "pleased with" },
            { tajik: "–ø—É—Ä—Å—É–ø–æ—Å", russian: "–æ–ø—Ä–æ—Å", english: "poll" },
            { tajik: "–∏—Ñ–ª–æ—Å –∫–∞—Ä–¥–∞–Ω", russian: "–∑–∞–≥—Ä—è–∑–Ω—è—Ç—å", english: "pollute" },
            { tajik: "–ø–æ—á—Ç–∞", russian: "–ø–æ—á—Ç–∞", english: "posts" },
            { tajik: "—Ç–æ–∑–∞, –Ω–æ—Ä–∞—Å–∏–¥–∞, –≤–∞–π—Ä–æ–Ω –Ω–∞—à—É–¥–∞", russian: "—á–∏—Å—Ç—ã–π, –Ω–µ—Ç—Ä–æ–Ω—É—Ç—ã–π, –Ω–µ–∏—Å–ø–æ—Ä—á–µ–Ω–Ω—ã–π", english: "pristine" },
            { tajik: "“ì–∞–ª—Ç–æ–Ω–¥–∞–Ω", russian: "—Å–≤–∞–ª–∏—Ç—å", english: "dump" }
        ];

        // Vocabulary for Unit 6
        const unit6Vocabulary = [
            { tajik: "–ø–ª—è–∂–∏ –ø—É—à–∏–¥–∞", russian: "–∑–∞–∫—Ä—ã—Ç—ã–π –ø–ª—è–∂", english: "private beach" },
            { tajik: "—Ñ–æ–∏–¥–∞", russian: "–≤—ã–≥–æ–¥–∞, –ø–æ–ª—å–∑–∞", english: "profit" },
            { tajik: "–Ω–∞—à—Ä–∏—ë—Ç", russian: "–∏–∑–¥–∞—Ç–µ–ª—å—Å–∫–∏–π", english: "publishing" },
            { tajik: "—á–æ—Ä—è–∫", russian: "—á–µ—Ç–≤–µ—Ä—Ç—å", english: "quarter" },
            { tajik: "–∞–∫—Å–¥–∏—Ö–∏", russian: "–æ—Ç—Ä–∞–∂–µ–Ω–∏–µ", english: "reflection" },
            { tajik: "–Ω–∞—Ç–∏—á–∞", russian: "—Ä–µ–∑—É–ª—å—Ç–∞—Ç", english: "result" },
            { tajik: "–∫–æ—Ä—Ö–æ–π —Ä–æ—Ö—Å–æ–∑–π", russian: "–¥–æ—Ä–æ–∂–Ω—ã–µ —Ä–∞–±–æ—Ç—ã", english: "roadwork" },
            { tajik: "—Ä–æ—Ö", russian: "–¥–æ—Ä–æ–≥–∞", english: "route" },
            { tajik: "–≤–∞–π—Ä–æ–Ω –∫–∞—Ä–¥–∞–Ω, –Ω–µ—Å—Ç –∫–∞—Ä–¥–∞–Ω", russian: "—Ä–∞–∑—Ä—É—à–∞—Ç—å", english: "ruin" },
            { tajik: "—Å–∞—Ñ–∞—Ä–∏", russian: "—Å–∞—Ñ–∞—Ä–∏", english: "safari" },
            { tajik: "–Ω–∞–≤–∏–≥–∞—Å–∏—è–∏ —Å–ø—É—Ç–Ω–∏–∫–∏", russian: "—Å–ø—É—Ç–Ω–∏–∫–æ–≤–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è", english: "sat nav" },
            { tajik: "–ø—É–ª–∞–∫—á–∞", russian: "—á–µ—à—É—è", english: "scale" },
            { tajik: "—Ö–∞—Ä—Ö–∞—à–∞", russian: "—Å–∫–∞–Ω–¥–∞–ª", english: "scandal" },
            { tajik: "–º–∞–Ω–∑–∞—Ä–∞", russian: "–ø–µ–π–∑–∞–∂", english: "scenery" },
            { tajik: "–≥–∞—Ä–∫—à–∞–≤–∏ –±–æ –∞–∫–≤–∞–ª–∞–Ω–≥", russian: "–ø–æ–≥—Ä—É–∂–µ–Ω–∏–µ —Å –∞–∫–≤–∞–ª–∞–Ω–≥–æ–º", english: "scuba diving" },
            { tajik: "—Ñ–∏–∫—Ä–∏ –∏–ª–æ–≤–∞–≥–∏", russian: "–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ —Å–æ–æ–±—Ä–∞–∂–µ–Ω–∏–µ", english: "second thought" },
            { tajik: "—Ö—É–¥—Ö–∏–∑–º–∞—Ç–∫—É–Ω–∏", russian: "—Å–∞–º–æ–æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ", english: "self-catering" },
            { tajik: "–±–∞—Ä–æ–º–∞–¥–∞–Ω —Ä–∞—Ñ—Ç–∞–Ω –±–∞", russian: "–≤—ã–µ—Ö–∞—Ç—å –≤", english: "set off for" },
            { tajik: "—á–æ–π–∏ —Ç–∞–º–æ—à–æ–±–æ–±", russian: "–æ—Å–º–æ—Ç—Ä –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π", english: "sightseeing" },
            { tajik: "—à–∞–ª–ø- —à—É–ª–ø –∫–∞—Ä–¥–∞–Ω", russian: "—Ö–ª—é–ø–∞—Ç—å", english: "slosh" },
            { tajik: "—á–∏—Ä–∫–∏–Ω –∫–∞—Ä–¥–∞–Ω", russian: "–ø–∞—á–∫–∞—Ç—å", english: "soil" },
            { tajik: "—Å—É—Ä—å–∞—Ç–∏ –∏—á–æ–∑–∞—Ç–¥–æ–¥–∞—à—É–¥–∞", russian: "–¥–æ–∑–≤–æ–ª–µ–Ω–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å", english: "speed limit" },
            { tajik: "–≤–∞–π—Ä–æ–Ω –∫–∞—Ä–¥–∞–Ω", russian: "–ø–æ—Ä—Ç–∏—Ç—å", english: "spoil" },
            { tajik: "—Ç–∞—à–∫–∏–ª –∫–∞—Ä–¥–∞–Ω", russian: "–æ—Ä–≥–∞–Ω–∏–∑–æ–≤—ã–≤–∞—Ç—å", english: "sponsored" },
            { tajik: "—Ç–µ–ª–∞ –¥–æ–¥–∞–Ω", russian: "–æ—Ç—Ç–∞–ª–∫–∏–≤–∞—Ç—å", english: "spurn" },
            { tajik: "—á—É–Ω–±–∏–¥–∞–Ω", russian: "—à–∞—Ç–∞—Ç—å—Å—è", english: "stagger" },
            { tajik: "—Å–∞–π—Ä—É –≥–∞—à—Ç", russian: "–ø—Ä–æ–≥—É–ª–∫–∞", english: "stroll" },
            { tajik: "—Å—É—à–∏", russian: "—Å—É—à–∏", english: "sushi" },
            { tajik: "–≥–∏—Ä–¥ –≥–∞—à—Ç–∞–Ω –¥–∞—Ä –≥–∏—Ä–¥–æ–±", russian: "–∫—Ä—É–∂–∏—Ç—å—Å—è –≤ –≤–æ–¥–æ–≤–æ—Ä–æ—Ç–µ", english: "swirl" },
            { tajik: "–º–∞—ä–±–∞–¥, –∏–±–æ–¥–∞—Ç—Ö–æ–Ω–∞", russian: "—Ö—Ä–∞–º, —Ü–µ—Ä–∫–æ–≤—å", english: "temple" },
            { tajik: "—Å—É—Ñ–∞—á–∞, –ø–µ—à–∞–π–≤–æ–Ω", russian: "—Ç–µ—Ä—Ä–∞—Å–∞, –≤–µ—Ä–∞–Ω–¥–∞", english: "terrace" },
            { tajik: "–º–∞—Å–æ—Ö–∞—Ç", russian: "—Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—è", english: "territory" },
            { tajik: "–º–æ–Ω–∞—Ä—Ö–∏—è", russian: "–º–æ–Ω–∞—Ä—Ö–∏—è", english: "the monarchy" },
            { tajik: "—Ç–∞—Ä–∞–∫–∏—Å—Ç–∏ —á–∏–∑—Ö–æ–∏ —è–∫–±–æ—Ä –∏—Å—Ç–∏—Ñ–æ–¥–∞—à–∞–≤–∞–Ω–¥–∞", russian: "–º—É—Å–æ—Ä–Ω–∞—è —Ü–∏–≤–∏–ª–∏–∑–∞—Ü–∏—è", english: "throwaway society" },
            { tajik: "—á—É—Ç–∫–∞–π –¥–∞–Ω–¥–æ–Ω—Ç–æ–∑–∞–∫—É–Ω–π", russian: "–∑—É–±–Ω–∞—è —â–µ—Ç–∫–∞", english: "toothbrush" },
            { tajik: "–∞–ª–æ–∫–∞—Ö–æ–∏ —Ç–∏—á–æ—Ä–∞—Ç–∏", russian: "—Ç–æ—Ä–≥–æ–≤—ã–µ —Å–≤—è–∑–∏", english: "trade link" },
            { tajik: "–∏–≤–∞–∑ –∫–∞—Ä–¥–∞–Ω", russian: "–∏–∑–º–µ–Ω—è—Ç—å", english: "transform" },
            { tajik: "—Ö–∞–ª—Ç–∞–∏ —Å–∞—Ñ–∞—Ä (“õ—É—Ç—Ç–∏)", russian: "–Ω–µ—Å–µ—Å—Å–µ—Ä –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è–º", english: "travel bag" },
            { tajik: "—Ä–æ—Ö–Ω–∞–º–æ –¥–∞—Ä —Å–∞—ë—Ö–∞—Ç", russian: "–≥–∏–¥—ã –≤ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è—Ö", english: "travel guide" },
            { tajik: "—á–∞–∑–∏—Ä–∞–∏ —Ç—Ä–æ–ø–∏–∫–∏", russian: "—Ç—Ä–æ–ø–∏—á–µ—Å–∫–∏–π –æ—Å—Ç—Ä–æ–≤", english: "tropical island" },
            { tajik: "—Ñ–∏—Ä—É–∑–∞ (—Ä–∞–Ω–≥)", russian: "–±–∏—Ä—é–∑–∞", english: "turquoise" },
            { tajik: "—Ö–æ—Å –º–∞—Ö—Å—É—Å", russian: "—Ç–∏–ø–∏—á–Ω—ã–π", english: "typical" },
            { tajik: "–±–µ —Ö–æ–¥–∏—Å–∞–∏ –º–∞—Ö—Å—É—Å", russian: "–±–µ–∑ –æ—Å–æ–±–µ–Ω–Ω—ã—Ö –ø—Ä–æ–∏—Å—à–µ—Å—Ç–≤–∏–π", english: "uneventful" },
            { tajik: "–∏–º–æ—Ä–∞—Ç–∏ —à–∞—Ö—Å–∏ —Ö–æ–Ω–∞–∏ –±–µ—Ä—É–Ω –∞–∑ —à–∞“≥—Ä", russian: "–æ—Å–æ–±–Ω—è–∫, –∑–∞–≥–æ—Ä–æ–¥–Ω—ã–π –¥–æ–º", english: "villa" },
            { tajik: "—Ö–æ—Ö–∏—à–º–∞–Ω–¥–∏ –∫–æ—Ä–∏ –±–µ–ø—É–ª –∞—Å–∫–∞—Ä–∏ —Ñ–∏–¥–æ–∏", russian: "–≤–æ–ª–æ–Ω—Ç–µ—Ä, –¥–æ–±—Ä–æ–≤–æ–ª–µ—Ü", english: "volunteer" },
            { tajik: "“≥–∞—Ä—á–∏ –∑–∏—ë–¥–∞—Ç–∏", russian: "—Ä–∞—Å—Ç—Ä–∞—Ç–∞", english: "waste" },
            { tajik: "–º—É—Ö–∞—Ä—Ä–∏–∫–∏ –±–æ–¥–π ( —à–∞–º–æ–ª)", russian: "–≤–µ—Ç—Ä—è–∫, –≤–µ—Ç—Ä–æ—Ç—É—Ä–±–∏–Ω–∞", english: "wind turbine" },
            { tajik: "–¥—É—Ä—É—Å—Ç–∏, –¥–∞–∫–∏–∫–∏", russian: "–ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å, —Ç–æ—á–Ω–æ—Å—Ç—å", english: "accuracy" },
            { tajik: "—ç–ª–æ–Ω –∫–∞—Ä–¥–∞–Ω–∏ –±–æ–Ω–≥–∏ —Ö–∞—Ç–∞—Ä", russian: " –æ–±—ä—è–≤–ª—è—Ç—å —Ç—Ä–µ–≤–æ–≥—É", english: "alert" },
            { tajik: "—Ä–∞—Ñ—Ç–∞–Ω, –±–∞—Ä–æ–º–∞–¥–∞–Ω", russian: "—Å—Ö–æ–¥–∏—Ç—å, –≤—ã—Ö–æ–¥–∏—Ç—å", english: "alight" }
        ];

        // DOM elements
        const unitSelection = document.getElementById('unit-selection');
        const gameScreen = document.getElementById('game-screen');
        const unitTitle = document.getElementById('unit-title');
        const wordElement = document.getElementById('word');
        const translationElement = document.getElementById('translation');
        const progressElement = document.getElementById('progress');
        const timerProgressElement = document.getElementById('timer-progress');
        const timerTextElement = document.getElementById('timer-text');
        const answerInput = document.getElementById('answer');
        const submitBtn = document.getElementById('submit-btn');
        const resultsElement = document.getElementById('results');
        const scoreElement = document.getElementById('score');
        const percentageElement = document.getElementById('percentage');
        const mistakesElement = document.getElementById('mistakes');
        const errorsContainer = document.getElementById('errors');
        const successMessage = document.getElementById('success-message');
        const unit5Btn = document.getElementById('unit5-btn');
        const unit6Btn = document.getElementById('unit6-btn');
        const mainContainer = document.getElementById('main-container');

        // Game state
        let currentVocabulary = [];
        let currentIndex = 0;
        let score = 0;
        let mistakes = [];
        let timeLeft = 420; // 7 minutes in seconds
        let timer;

        // Start selected unit
        function startUnit(unitName, vocabulary) {
            currentVocabulary = [...vocabulary]; // Copy the array
            shuffleArray(currentVocabulary); // Shuffle the words
            
            currentIndex = 0;
            score = 0;
            timeLeft = 420;
            mistakes = [];
            
            unitSelection.style.display = 'none';
            gameScreen.style.display = 'block';
            resultsElement.style.display = 'none';
            
            unitTitle.textContent = unitName;
            showWord();
            startTimer();
            
            setTimeout(() => {
                answerInput.focus();
            }, 100);
        }

        // Show current word
        function showWord() {
            wordElement.textContent = currentVocabulary[currentIndex].tajik;
            translationElement.textContent = currentVocabulary[currentIndex].russian;
            progressElement.textContent = `${currentIndex + 1}/${currentVocabulary.length}`;
            answerInput.value = '';
        }

        // Start timer
        function startTimer() {
            clearInterval(timer);
            updateTimer();
            
            timer = setInterval(() => {
                timeLeft--;
                updateTimer();
                
                if (timeLeft <= 0) {
                    finishGame();
                }
            }, 1000);
        }

        // Update timer display
        function updateTimer() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            timerTextElement.textContent = `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
            
            // Update progress circle
            const progress = (420 - timeLeft) / 420 * 360;
            timerProgressElement.style.transform = `rotate(${progress}deg)`;
            
            // Change color based on time left
            if (timeLeft < 60) {
                timerProgressElement.style.backgroundColor = '#e74c3c';
            } else if (timeLeft < 180) {
                timerProgressElement.style.backgroundColor = '#f39c12';
            } else {
                timerProgressElement.style.backgroundColor = '#4CAF50';
            }
        }

        // Check answer
        function checkAnswer() {
            const userAnswer = answerInput.value.trim().toLowerCase();
            const correctAnswer = currentVocabulary[currentIndex].english.toLowerCase();
            
            if (userAnswer === correctAnswer) {
                score++;
            } else {
                mistakes.push({
                    word: currentVocabulary[currentIndex].tajik,
                    translation: currentVocabulary[currentIndex].russian,
                    correct: currentVocabulary[currentIndex].english,
                    userAnswer: userAnswer
                });
            }
            
            currentIndex++;
            
            if (currentIndex < currentVocabulary.length && timeLeft > 0) {
                showWord();
            } else {
                finishGame();
            }
        }

        // Finish game and show results
        function finishGame() {
            clearInterval(timer);
            
            const percentage = Math.round((score / currentVocabulary.length) * 100);
            
            scoreElement.textContent = score;
            percentageElement.textContent = `${percentage}%`;
            mistakesElement.textContent = mistakes.length;
            
            // Display success message based on score
            if (score >= 42) {
                successMessage.textContent = "–ê—ä–ª–æ! –®—É–º–æ –∞–∑ 50 –∫–∞–ª–∏–º–∞ " + score + "-—Ç–æ—Ä–æ –¥—É—Ä—É—Å—Ç “∑–∞–≤–æ–± –¥–æ–¥–µ–¥! üéâ";
                successMessage.style.color = "#27ae60";
            } else {
                successMessage.textContent = "–¢–∞–ª–æ—à –∫—É–Ω–µ–¥, —à—É–º–æ –∞–∑ 50 –∫–∞–ª–∏–º–∞ " + score + "-—Ç–æ—Ä–æ –¥—É—Ä—É—Å—Ç “∑–∞–≤–æ–± –¥–æ–¥–µ–¥. üí™";
                successMessage.style.color = "#e74c3c";
            }
            
            // Display errors
            errorsContainer.innerHTML = '';
            mistakes.forEach((mistake, index) => {
                const errorItem = document.createElement('div');
                errorItem.className = 'error-item';
                errorItem.innerHTML = `
                    <div class="error-word">${index + 1}. ${mistake.word} (${mistake.translation})</div>
                    <div class="correct-answer">“∂–∞–≤–æ–±–∏ –¥—É—Ä—É—Å—Ç: ${mistake.correct}</div>
                    <div class="user-answer">“∂–∞–≤–æ–±–∏ —à—É–º–æ: ${mistake.userAnswer || '---'}</div>
                `;
                errorsContainer.appendChild(errorItem);
            });
            
            // Show results and hide game screen
            gameScreen.style.display = 'none';
            resultsElement.style.display = 'block';
        }

        // Shuffle array function
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        // Event listeners
        submitBtn.addEventListener('click', checkAnswer);
        
        answerInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                checkAnswer();
            }
        });

        // Unit selection buttons
        unit5Btn.addEventListener('click', () => {
            startUnit("–Æ–Ω–∏—Ç 5 –û—Ö–∏—Ä", unit5Vocabulary);
        });
        
        unit6Btn.addEventListener('click', () => {
            startUnit("–Æ–Ω–∏—Ç 6", unit6Vocabulary);
        });

        // Reset button (to be added in results screen)
        function resetGame() {
            resultsElement.style.display = 'none';
            unitSelection.style.display = 'flex';
        }
    </script>
</body>
</html>
